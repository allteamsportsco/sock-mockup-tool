<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ATS Sock Mockup Generator</title>
  <link rel="stylesheet" href="static/css/style.css" />
</head>
<body>
  <h2>Generate Custom Sock Mockup</h2>

  <form onsubmit="generateMockup(); return false;">
    <label for="team_name">Team Name:</label>
    <input type="text" id="team_name" required /><br>

    <label for="team_colors">Team Colors:</label>
    <input type="text" id="team_colors" placeholder="Red/White" required /><br>

    <label for="mascot">Mascot:</label>
    <input type="text" id="mascot" placeholder="e.g., Tigers" required /><br>

    <label for="sock_style">Sock Style:</label>
    <select id="sock_style">
      <option value="front_back">Front/Back</option>
      <option value="side_side">Side/Side</option>
    </select><br><br>

    <label for="sock_color">Select Sock Color:</label>
    <input type="color" id="sockColor" value="#000000" /><br><br>

    <button type="submit">Generate Mockup</button>
  </form>

  <canvas id="sockCanvas" width="500" height="1000"></canvas>

  <script>
    function generateMockup() {
      const canvas = document.getElementById('sockCanvas');
      if (!canvas) return;

      const ctx = canvas.getContext('2d');
      const sockStyle = document.getElementById('sock_style').value;
      const color = document.getElementById('sockColor').value;

      const imagePath = 'static/images/' + sockStyle + '.png';
      const baseSock = new Image();

      baseSock.onload = () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(baseSock, 0, 0, canvas.width, canvas.height);

        // Add sock overlay color
        ctx.globalAlpha = 0.3;
        ctx.fillStyle = color;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.globalAlpha = 1.0;

        // Add text overlay
        ctx.font = "bold 40px Arial";
        ctx.fillStyle = "#ffffff";
        ctx.fillText(document.getElementById('team_name').value, 20, 80);
        ctx.fillText(document.getElementById('mascot').value, 20, 140);
      };

      baseSock.src = imagePath;
    }
  </script>
</body>
</html>

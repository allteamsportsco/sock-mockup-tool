<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ATS Sock Mockup Generator</title>
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<h2>Generate Custom Sock Mockup</h2>

<label for="sockColor">Select Sock Color:</label>
<input type="color" id="sockColor" value="#000000">

<br><br>

<button onclick="generateMockup()">Generate Mockup</button>

<canvas id="sockCanvas" width="1000" height="1000" style="border:1px solid #ccc; display:block; margin-top:20px;"></canvas>

  <header>
    <img src="/static/images/ats-logo.png" alt="ATS Logo">
    <h1>All Team Sports Co.</h1>
    <p>One Team. One Goal. One Cause.</p>
  </header>

  <main>
    <form action="/generate" method="post">
      <label for="team_name">Team Name</label>
      <input type="text" id="team_name" name="team_name" placeholder="e.g. Knights" required>

      <label for="team_colors">Team Colors (Primary/Secondary)</label>
      <input type="text" id="team_colors" name="team_colors" placeholder="e.g. Red/White" required>

      <label for="mascot">Mascot</label>
      <input type="text" id="mascot" name="mascot" placeholder="e.g. Swords" required>

      <label for="sock_style">Sock Style</label>
      <select id="sock_style" name="sock_style" required>
        <option value="front_back">Front/Back</option>
        <option value="side_side">Side/Side</option>
      </select>

      <button type="submit">Generate Mockup</button>
    </form>

    <div id="download-link" style="text-align:center; margin-top:20px;">
      <a href="/static/images/mockup_result.png" download="sock_mockup.png" class="download-btn" target="_blank">Download Latest Mockup</a>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 All Team Sports Co. All rights reserved.</p>
  </footer>
<script>
function generateMockup() {
  const canvas = document.getElementById('sockCanvas');
  const ctx = canvas.getContext('2d');

  const baseSock = new Image();
  baseSock.src = '/static/images/side_side.png'; // Change to front_back.png if needed

  baseSock.onload = () => {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(baseSock, 0, 0, canvas.width, canvas.height);

    const color = document.getElementById('sockColor').value;
    ctx.globalAlpha = 0.4;
    ctx.fillStyle = color;
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.globalAlpha = 1.0;
  };
}
</script>

</body>
</html>
